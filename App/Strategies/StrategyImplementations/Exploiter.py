from App.Strategies.StrategyInterface import StrategyInterface


class Exploiter(StrategyInterface):

    def execute(self, opponenets_moves: list[bool], own_moves: list[bool]) -> bool:
        """
        Betray, if they continue to cooperate, betray again.
        If they stop cooperating, cooperate once, then betray again.

        Returning True means not betraying.
        """
        if len(opponenets_moves) == 0:
            return False
        if opponenets_moves[-1]:
            return False
        if not opponenets_moves[-1]:
            if len(opponenets_moves) == 1:
                return True
            if opponenets_moves[-2]:
                return True
            return False

    def __repr__(self):
        return "Exploiter"
